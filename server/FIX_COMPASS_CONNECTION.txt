FIXING MONGODB COMPASS CONNECTION ERROR
========================================

ERROR: connect ECONNREFUSED 127.0.0.1:27017
This means Compass is trying to connect to LOCAL MongoDB, not Atlas!

SOLUTION: Use Atlas Connection String
===================================

STEP 1: Get Correct Connection String from Atlas
-------------------------------------------------
1. Go to MongoDB Atlas: https://cloud.mongodb.com
2. Click "Connect" button on your cluster (Cluster0)
3. Choose "MongoDB Compass" (NOT "MongoDB Shell")
4. Copy the connection string shown

STEP 2: Modify the Connection String
-------------------------------------
The string will look like:
mongodb+srv://i222697:<password>@cluster0.g8dsdko.mongodb.net/?retryWrites=true&w=majority

IMPORTANT CHANGES:
1. Replace <password> with your ACTUAL database password
2. Add /secure-messaging before the ? to specify database:
   mongodb+srv://i222697:YOUR_PASSWORD@cluster0.g8dsdko.mongodb.net/secure-messaging?retryWrites=true&w=majority

STEP 3: Create NEW Connection in Compass
-----------------------------------------
1. Open MongoDB Compass
2. Click the "+" button (Add New Connection) in the sidebar
3. DON'T use the existing "IS" connection - create a new one!
4. Paste your FULL modified connection string
5. Click "Connect"

STEP 4: If Password Has Special Characters
-------------------------------------------
If your password contains: @ # $ % & + = ?
You need to URL-encode them:
@ = %40
# = %23
$ = %24
% = %25
& = %26
+ = %2B
= = %3D
? = %3F

STEP 5: Verify Network Access in Atlas
---------------------------------------
1. Go to Atlas → Network Access
2. Click "Add IP Address"
3. Click "Allow Access from Anywhere" (0.0.0.0/0) for testing
4. Click "Confirm"

STEP 6: Verify Database User Exists
------------------------------------
1. Go to Atlas → Database Access
2. Make sure you have a user with username: i222697
3. If not, create one with a password you know

